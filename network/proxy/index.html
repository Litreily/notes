<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Note Everything"><link href=http://www.litreily.top/notes/network/proxy/ rel=canonical><meta name=author content=Litreily><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.2.3"><title>Proxy - Notes</title><link rel=stylesheet href=../../assets/stylesheets/main.6e35a1a6.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.a46bcfb3.min.css><meta name=theme-color content=#546e7a><link rel=stylesheet href=../../css/extra.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#proxy class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=http://www.litreily.top/notes/ title=Notes class="md-header-nav__button md-logo" aria-label=Notes> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 2l-5 4.5v11l5-4.5V2M6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Notes </span> <span class="md-header-nav__topic md-ellipsis"> Proxy </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/Litreily/notes/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Linux C </a> </li> <li class=md-tabs__item> <a href=../../commands/cd/ class=md-tabs__link> Commands </a> </li> <li class=md-tabs__item> <a href=../signle-arm-routing/ class=md-tabs__link> Network </a> </li> <li class=md-tabs__item> <a href=../../os/ubuntu/userAdd/ class=md-tabs__link> OS </a> </li> <li class=md-tabs__item> <a href=../../python/install/ class=md-tabs__link> Python </a> </li> <li class=md-tabs__item> <a href=../../software/atom/ class=md-tabs__link> Software </a> </li> <li class=md-tabs__item> <a href=../../web/css/ class=md-tabs__link> Web </a> </li> <li class=md-tabs__item> <a href=../../appendix/ascii/ class=md-tabs__link> Appendix </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=http://www.litreily.top/notes/ title=Notes class="md-nav__button md-logo" aria-label=Notes> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 2l-5 4.5v11l5-4.5V2M6.5 5C4.55 5 2.45 5.4 1 6.5v14.66c0 .25.25.5.5.5.1 0 .15-.07.25-.07 1.35-.65 3.3-1.09 4.75-1.09 1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.31 4.75 1.06.1.05.15.03.25.03.25 0 .5-.25.5-.5V6.5c-.6-.45-1.25-.75-2-1V19c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V6.5C10.55 5.4 8.45 5 6.5 5z"/></svg> </a> Notes </label> <div class=md-nav__source> <a href=https://github.com/Litreily/notes/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Linux C <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Linux C" data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Linux C </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../linux/ title=Linux class=md-nav__link> Linux </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-3 type=checkbox id=nav-1-3> <label class=md-nav__link for=nav-1-3> Basic <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Basic data-md-level=2> <label class=md-nav__title for=nav-1-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Basic </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/basic/preprocessor/ title=Preprocessor class=md-nav__link> Preprocessor </a> </li> <li class=md-nav__item> <a href=../../linux/basic/keywords/ title=Keywords class=md-nav__link> Keywords </a> </li> <li class=md-nav__item> <a href=../../linux/basic/makefile/ title=Makefile class=md-nav__link> Makefile </a> </li> <li class=md-nav__item> <a href=../../linux/basic/weak_symbol/ title="Weak Symbol" class=md-nav__link> Weak Symbol </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-4 type=checkbox id=nav-1-4> <label class=md-nav__link for=nav-1-4> Communications <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Communications data-md-level=2> <label class=md-nav__title for=nav-1-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Communications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/communications/i2c/ title=I2C class=md-nav__link> I2C </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-5 type=checkbox id=nav-1-5> <label class=md-nav__link for=nav-1-5> 内核开发 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=内核开发 data-md-level=2> <label class=md-nav__title for=nav-1-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 内核开发 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/kernel-development/ch3-process-management/ title=进程管理 class=md-nav__link> 进程管理 </a> </li> <li class=md-nav__item> <a href=../../linux/kernel-development/ch4-process-scheduling/ title=进程调度 class=md-nav__link> 进程调度 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1-6 type=checkbox id=nav-1-6> <label class=md-nav__link for=nav-1-6> 内核调试 <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=内核调试 data-md-level=2> <label class=md-nav__title for=nav-1-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> 内核调试 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../linux/kernel-debug/ftrace/ title=Ftrace class=md-nav__link> Ftrace </a> </li> <li class=md-nav__item> <a href=../../linux/kernel-debug/watchdog/ title=Watchdog class=md-nav__link> Watchdog </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Commands <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Commands data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../commands/cd/ title=cd class=md-nav__link> cd </a> </li> <li class=md-nav__item> <a href=../../commands/df/ title=df class=md-nav__link> df </a> </li> <li class=md-nav__item> <a href=../../commands/du/ title=du class=md-nav__link> du </a> </li> <li class=md-nav__item> <a href=../../commands/fc-cache/ title=fc-cahe class=md-nav__link> fc-cahe </a> </li> <li class=md-nav__item> <a href=../../commands/ifconfig/ title=ifconfig class=md-nav__link> ifconfig </a> </li> <li class=md-nav__item> <a href=../../commands/ip/ title=ip class=md-nav__link> ip </a> </li> <li class=md-nav__item> <a href=../../commands/ls/ title=ls class=md-nav__link> ls </a> </li> <li class=md-nav__item> <a href=../../commands/lsb_release/ title=lsb_release class=md-nav__link> lsb_release </a> </li> <li class=md-nav__item> <a href=../../commands/man/ title=man class=md-nav__link> man </a> </li> <li class=md-nav__item> <a href=../../commands/mkdir/ title=mkdir class=md-nav__link> mkdir </a> </li> <li class=md-nav__item> <a href=../../commands/mksquashfs/ title=mksquashfs class=md-nav__link> mksquashfs </a> </li> <li class=md-nav__item> <a href=../../commands/mount/ title=mount class=md-nav__link> mount </a> </li> <li class=md-nav__item> <a href=../../commands/ping/ title=ping class=md-nav__link> ping </a> </li> <li class=md-nav__item> <a href=../../commands/pwd/ title=pwd class=md-nav__link> pwd </a> </li> <li class=md-nav__item> <a href=../../commands/openssl/ title=openssl class=md-nav__link> openssl </a> </li> <li class=md-nav__item> <a href=../../commands/rm/ title=rm class=md-nav__link> rm </a> </li> <li class=md-nav__item> <a href=../../commands/rsync/ title=rsync class=md-nav__link> rsync </a> </li> <li class=md-nav__item> <a href=../../commands/sar/ title=sar class=md-nav__link> sar </a> </li> <li class=md-nav__item> <a href=../../commands/sed/ title=sed class=md-nav__link> sed </a> </li> <li class=md-nav__item> <a href=../../commands/sudo/ title=sudo class=md-nav__link> sudo </a> </li> <li class=md-nav__item> <a href=../../commands/xargs/ title=xargs class=md-nav__link> xargs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Network <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Network data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> Concepts <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Concepts data-md-level=2> <label class=md-nav__title for=nav-3-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../signle-arm-routing/ title=单臂路由 class=md-nav__link> 单臂路由 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> Protocol <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Protocol data-md-level=2> <label class=md-nav__title for=nav-3-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Protocol </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../protocol/ title=Protocol class=md-nav__link> Protocol </a> </li> <li class=md-nav__item> <a href=../linkLayer/ title="Link layer" class=md-nav__link> Link layer </a> </li> <li class=md-nav__item> <a href=../ip/ title=IP class=md-nav__link> IP </a> </li> <li class=md-nav__item> <a href=../arp/ title=ARP class=md-nav__link> ARP </a> </li> <li class=md-nav__item> <a href=../icmp/ title=ICMP class=md-nav__link> ICMP </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3 checked> <label class=md-nav__link for=nav-3-3> Proxy <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Proxy data-md-level=2> <label class=md-nav__title for=nav-3-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Proxy </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Proxy <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title=Proxy class="md-nav__link md-nav__link--active"> Proxy </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#shell class=md-nav__link> shell </a> </li> <li class=md-nav__item> <a href=#apt class=md-nav__link> apt </a> </li> <li class=md-nav__item> <a href=#git class=md-nav__link> git </a> <nav class=md-nav aria-label=git> <ul class=md-nav__list> <li class=md-nav__item> <a href=#https class=md-nav__link> https </a> </li> <li class=md-nav__item> <a href=#ssh class=md-nav__link> ssh </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#npm class=md-nav__link> npm </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 浏览器 </a> </li> <li class=md-nav__item> <a href=#putty class=md-nav__link> putty </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../cntlm/ title=Cntlm class=md-nav__link> Cntlm </a> </li> <li class=md-nav__item> <a href=../proxychains4/ title=Proxychains4 class=md-nav__link> Proxychains4 </a> </li> <li class=md-nav__item> <a href=../shadowsocks/ title=ShadowSocks class=md-nav__link> ShadowSocks </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4 type=checkbox id=nav-3-4> <label class=md-nav__link for=nav-3-4> Tools <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tools data-md-level=2> <label class=md-nav__title for=nav-3-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../iperf/ title=iperf class=md-nav__link> iperf </a> </li> <li class=md-nav__item> <a href=../tc/ title=tc class=md-nav__link> tc </a> </li> <li class=md-nav__item> <a href=../wireshark/ title=Wireshark class=md-nav__link> Wireshark </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-5 type=checkbox id=nav-3-5> <label class=md-nav__link for=nav-3-5> Apps <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Apps data-md-level=2> <label class=md-nav__title for=nav-3-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Apps </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../samba/ title=samba class=md-nav__link> samba </a> </li> <li class=md-nav__item> <a href=../tftp/ title=tftp class=md-nav__link> tftp </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> OS <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=OS data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> OS </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-1 type=checkbox id=nav-4-1> <label class=md-nav__link for=nav-4-1> Ubuntu <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Ubuntu data-md-level=2> <label class=md-nav__title for=nav-4-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ubuntu </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../os/ubuntu/userAdd/ title="Add user" class=md-nav__link> Add user </a> </li> <li class=md-nav__item> <a href=../../os/ubuntu/aws_ec2/ title="AWS EC2" class=md-nav__link> AWS EC2 </a> </li> <li class=md-nav__item> <a href=../../os/ubuntu/faq/ title=FAQ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../os/ubuntu/installer/ title=Installer class=md-nav__link> Installer </a> </li> <li class=md-nav__item> <a href=../../os/ubuntu/shell/ title=Shell class=md-nav__link> Shell </a> </li> <li class=md-nav__item> <a href=../../os/ubuntu/shellScripts/ title="Shell scripts" class=md-nav__link> Shell scripts </a> </li> <li class=md-nav__item> <a href=../../os/ubuntu/themes/ title=Themes class=md-nav__link> Themes </a> </li> <li class=md-nav__item> <a href=../../os/ubuntu/vps/ title=VPS class=md-nav__link> VPS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4-2 type=checkbox id=nav-4-2> <label class=md-nav__link for=nav-4-2> Windows <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Windows data-md-level=2> <label class=md-nav__title for=nav-4-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../os/windows/powershell/ title=PowerShell class=md-nav__link> PowerShell </a> </li> <li class=md-nav__item> <a href=../../os/windows/cmd/ title=CMD class=md-nav__link> CMD </a> </li> <li class=md-nav__item> <a href=../../os/windows/faq/ title=FAQ class=md-nav__link> FAQ </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Python <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Python data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-1 type=checkbox id=nav-5-1> <label class=md-nav__link for=nav-5-1> general <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=general data-md-level=2> <label class=md-nav__title for=nav-5-1> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> general </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../python/install/ title=General class=md-nav__link> General </a> </li> <li class=md-nav__item> <a href=../../python/decorator/ title=Decorator class=md-nav__link> Decorator </a> </li> <li class=md-nav__item> <a href=../../python/generator/ title=Generator class=md-nav__link> Generator </a> </li> <li class=md-nav__item> <a href=../../python/iterator/ title=Iterator class=md-nav__link> Iterator </a> </li> <li class=md-nav__item> <a href=../../python/lambda/ title=Lambda class=md-nav__link> Lambda </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../python/download/ title=Download class=md-nav__link> Download </a> </li> <li class=md-nav__item> <a href=../../python/nic/ title=NIC class=md-nav__link> NIC </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Software <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Software data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Software </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../software/atom/ title=Atom class=md-nav__link> Atom </a> </li> <li class=md-nav__item> <a href=../../software/chrome/ title=Chrome class=md-nav__link> Chrome </a> </li> <li class=md-nav__item> <a href=../../software/docker/ title=Docker class=md-nav__link> Docker </a> </li> <li class=md-nav__item> <a href=../../software/git/ title=Git class=md-nav__link> Git </a> </li> <li class=md-nav__item> <a href=../../software/gitbook/ title=Gitbook class=md-nav__link> Gitbook </a> </li> <li class=md-nav__item> <a href=../../software/gitlab/ title=Gitlab class=md-nav__link> Gitlab </a> </li> <li class=md-nav__item> <a href=../../software/hexo/ title=Hexo class=md-nav__link> Hexo </a> </li> <li class=md-nav__item> <a href=../../software/nodejs/ title=Nodejs class=md-nav__link> Nodejs </a> </li> <li class=md-nav__item> <a href=../../software/cscope/ title=Cscope class=md-nav__link> Cscope </a> </li> <li class=md-nav__item> <a href=../../software/teraterm/ title=Teraterm class=md-nav__link> Teraterm </a> </li> <li class=md-nav__item> <a href=../../software/tex/ title=Tex class=md-nav__link> Tex </a> </li> <li class=md-nav__item> <a href=../../software/tmux/ title=Tmux class=md-nav__link> Tmux </a> </li> <li class=md-nav__item> <a href=../../software/vim/ title=VIM class=md-nav__link> VIM </a> </li> <li class=md-nav__item> <a href=../../software/vsc/ title=VSCode class=md-nav__link> VSCode </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6-15 type=checkbox id=nav-6-15> <label class=md-nav__link for=nav-6-15> Database <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Database data-md-level=2> <label class=md-nav__title for=nav-6-15> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Database </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../db/mongodb/ title=MongoDB class=md-nav__link> MongoDB </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Web <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Web data-md-level=1> <label class=md-nav__title for=nav-7> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Web </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../web/css/ title=CSS class=md-nav__link> CSS </a> </li> <li class=md-nav__item> <a href=../../web/LNMP/ title=LNMP class=md-nav__link> LNMP </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Appendix <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Appendix data-md-level=1> <label class=md-nav__title for=nav-8> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Appendix </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../appendix/ascii/ title=ASCII class=md-nav__link> ASCII </a> </li> <li class=md-nav__item> <a href=../../appendix/gsm/ title=GSM class=md-nav__link> GSM </a> </li> <li class=md-nav__item> <a href=../../appendix/aphorisms/ title=Aphorisms class=md-nav__link> Aphorisms </a> </li> <li class=md-nav__item> <a href=../../appendix/books/ title="Book List" class=md-nav__link> Book List </a> </li> <li class=md-nav__item> <a href=../../appendix/favorites/ title=Favorites class=md-nav__link> Favorites </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-8-6 type=checkbox id=nav-8-6> <label class=md-nav__link for=nav-8-6> Tools <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Tools data-md-level=2> <label class=md-nav__title for=nav-8-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../appendix/tools/common/ title=common class=md-nav__link> common </a> </li> <li class=md-nav__item> <a href=../../appendix/tools/network/ title=network class=md-nav__link> network </a> </li> <li class=md-nav__item> <a href=../../appendix/tools/programming/ title=programming class=md-nav__link> programming </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#shell class=md-nav__link> shell </a> </li> <li class=md-nav__item> <a href=#apt class=md-nav__link> apt </a> </li> <li class=md-nav__item> <a href=#git class=md-nav__link> git </a> <nav class=md-nav aria-label=git> <ul class=md-nav__list> <li class=md-nav__item> <a href=#https class=md-nav__link> https </a> </li> <li class=md-nav__item> <a href=#ssh class=md-nav__link> ssh </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#npm class=md-nav__link> npm </a> </li> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 浏览器 </a> </li> <li class=md-nav__item> <a href=#putty class=md-nav__link> putty </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/Litreily/notes/tree/mkdocs/docs/network/proxy.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=proxy>Proxy<a class=headerlink href=#proxy title="Permanent link">&para;</a></h1> <p>相信很多公司都有设置网络代理，而且需要密码认证，那么如果自带笔记本或是使用虚拟机，就需要对很多依赖网络的工具设置代理。</p> <p>本文主要针对Linux系统，windows系统的代理设置相对单一些，通常设置好系统代理和浏览器代理即可。</p> <h2 id=shell>shell<a class=headerlink href=#shell title="Permanent link">&para;</a></h2> <p>要让<code>shell</code>使用代理，可以通过<code>cntlm</code>先配置好代理，默认安装<code>cntlm</code>后的配置文件为<code>/etc/cntlm.conf</code></p> <div class=highlight><pre><span></span><code>Username    name
Domain      corp
Password    ********

Proxy       proxy_ip:port

Listen      <span class=m>3128</span>
</code></pre></div> <p>配置完后，执行下面的指令让代理生效</p> <div class=highlight><pre><span></span><code>sudo service cntlm restart
</code></pre></div> <p>然后编辑<code>~/.bashrc</code>或其它shell的配置文件，我使用的zsh,所以修改<code>~/.zshrc</code>，添加代理</p> <div class=highlight><pre><span></span><code><span class=nb>export</span> <span class=nv>http_proxy</span><span class=o>=</span><span class=s2>&quot;http://127.0.0.1:3128&quot;</span>
<span class=nb>export</span> <span class=nv>https_proxy</span><span class=o>=</span><span class=s2>&quot;http://127.0.0.1:3128&quot;</span>
<span class=nb>export</span> <span class=nv>ftp_proxy</span><span class=o>=</span><span class=s2>&quot;http://127.0.0.1:3128&quot;</span>
</code></pre></div> <p>最后执行<code>source ~/.zshrc</code>,到此可以通过<code>wget www.baidu.com</code>验证代理是否可行。</p> <p>大部分shell指令默认都会根据上面这几个参数去访问代理服务器，但是有些特殊的工具需要单独设置代理，包括<code>apt</code>,<code>git</code>,<code>npm</code>等，下面逐一介绍。</p> <h2 id=apt>apt<a class=headerlink href=#apt title="Permanent link">&para;</a></h2> <p><code>apt</code> 或者 <code>apt-get</code>等工具的代理可以通过以下方式完成，这里同样是基于<code>cntlm</code>工具完成，文件<code>25apt</code>这个文件名可以任意，路径对了即可。</p> <div class=highlight><pre><span></span><code>$ sudo cat <span class=s>&lt;&lt; EOF &gt; /etc/apt/apt.conf.d/25apt</span>
<span class=s>Acquire::http::proxy &quot;http://127.0.0.1:3128/&quot;;</span>
<span class=s>Acquire::https::proxy &quot;http://127.0.0.1:3128/&quot;;</span>
<span class=s>Acquire::ftp::proxy &quot;http://127.0.0.1:3128/&quot;;</span>
<span class=s>EOF</span>
$ sudo apt update
</code></pre></div> <p>如果使用的是其它代理工具，如<code>SS</code>，则将所有网络地址改成<code>http://127.0.0.1:1080</code>即可，前提是<code>SS</code>客户端配置的本地端口为<code>1080</code>.</p> <h2 id=git>git<a class=headerlink href=#git title="Permanent link">&para;</a></h2> <h3 id=https>https<a class=headerlink href=#https title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=c1># for http and https</span>
git config --global http.proxy <span class=s1>&#39;http://127.0.0.1:3128&#39;</span>
git config --global https.proxy <span class=s1>&#39;http://127.0.0.1:3128&#39;</span>
<span class=c1># for git</span>
git config --global core.gitProxy <span class=s1>&#39;http://127.0.0.1:3128&#39;</span>
</code></pre></div> <h3 id=ssh>ssh<a class=headerlink href=#ssh title="Permanent link">&para;</a></h3> <p>对于git操作，为了方便我们通常使用<code>ssh</code>协议，而不用<code>https</code>，这样可以省去每次输入用户名密码去push或是pull.这个可以参考文章<a href=https://www.cnblogs.com/meshinestar/p/3994822.html>github ssh proxy协议代理配置</a></p> <p>1.配置一个<code>proxy-wrapper</code>脚本</p> <div class=highlight><pre><span></span><code>$ cat &gt; <span class=nv>$HOME</span>/bin/proxy-wrapper
<span class=c1>#!/bin/zsh</span>
nc -x <span class=m>127</span>.0.0.1:3128 -X connect <span class=nv>$*</span>
$ chmod +x <span class=nv>$HOME</span>/bin/proxy-wrapper
</code></pre></div> <p>其中<code>-X</code>用于指定所用协议</p> <ul> <li><code>-X4</code> - <code>socks4</code></li> <li><code>-X5</code> - <code>socks5</code>, 默认为该项</li> <li><code>connect</code> - https, 需SSL支持，默认经443端口</li> </ul> <p>2.配置<code>~/.ssh/config</code></p> <div class=highlight><pre><span></span><code>Host github github.com
    Hostname github.com
    User    git
    ProxyCommand    <span class=nv>$HOME</span>/bin/proxy-wrapper %h %p
</code></pre></div> <p>3.通过<code>ssh git@github.com</code>测试连接</p> <p>这里需要说明的是，如果要使用https，那就需要ssl的支持，默认对应443端口，公司网络通常是禁用的，我尝试过，会提示安全问题：</p> <blockquote> <p>nc: Proxy error: "HTTP/1.1 502 Proxy Error ( The specified Secure Sockets Layer (SSL) port is not allowed. Forefront TMG is not configured to allow SSL requests from this port. Most Web browsers use port 443 for SSL requests. )"nc: Proxy error: "HTTP/1.1 502 Proxy Error ( The specified Secure Sockets Layer (SSL) port is not allowed. Forefront TMG is not configured to allow SSL requests from this port. Most Web browsers use port 443 for SSL requests. )"</p> </blockquote> <p>当然啦，如果有<code>SS</code>支持，就可以选择<code>socks5</code>协议，这样就没问题了。</p> <h2 id=npm>npm<a class=headerlink href=#npm title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>npm config <span class=nb>set</span> proxy http://127.0.0.1:3128
npm config <span class=nb>set</span> https-proxy http://127.0.0.1:3128
npm config <span class=nb>set</span> registry http://registry.npm.taobao.org
</code></pre></div> <p>貌似cntlm不支持https，所以需要在设置<code>npm</code>代理时将镜像源地址改为<code>http</code>协议</p> <h2 id=_1>浏览器<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <p>大部分浏览器可以使用系统代理，但是在<code>ubuntu</code>的系统代理设置选项中，我没找到设置用户名密码的选项，所以另辟蹊径。</p> <p>以Chrome浏览器为例，安装Proxy插件<code>SwitchyOmega</code>, 添加情景模式proxy，然后添加代理</p> <p><img alt="Chrome proxy" src=../../assets/proxys/chrome-proxy.png></p> <p>如果使用的是其它代理工具，比如<code>Shadowsocks</code>，由于<code>SS</code>客户端通常将代理端口映射到本地的1080端口，所以这种情况只需要在<code>SwitchyOmega</code>中选择<code>sock5</code>协议，ip设为<code>127.0.0.1</code>,端口设为<code>1080</code>即可。关于这部分的详细内容参考我的另一篇文章<a href=https://www.litreily.top/2017/09/07/ss-config/ >VPS+SS翻越GFW</a></p> <h2 id=putty>putty<a class=headerlink href=#putty title="Permanent link">&para;</a></h2> <p>打开<code>putty</code>配置选项，选择"Connection-&gt;Proxy"</p> <p>在<code>Proxy hostname</code>中填入代理IP，如<code>127.0.0.1</code>,在<code>Port</code>中填入代理端口，如1080</p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../icmp/ title=ICMP class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> ICMP </div> </div> </a> <a href=../cntlm/ title=Cntlm class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Cntlm </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 LITREILY </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/litreily target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://www.litreily.top target=_blank rel=noopener title=www.litreily.top class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5z"/></svg> </a> <a href=https://www.litreily.top/leetcode target=_blank rel=noopener title="Leetcode Solutions" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M502.285 159.704l-234-156c-7.987-4.915-16.511-4.96-24.571 0l-234 156C3.714 163.703 0 170.847 0 177.989v155.999c0 7.143 3.714 14.286 9.715 18.286l234 156.022c7.987 4.915 16.511 4.96 24.571 0l234-156.022c6-3.999 9.715-11.143 9.715-18.286V177.989c-.001-7.142-3.715-14.286-9.716-18.285zM278 63.131l172.286 114.858-76.857 51.429L278 165.703V63.131zm-44 0v102.572l-95.429 63.715-76.857-51.429L234 63.131zM44 219.132l55.143 36.857L44 292.846v-73.714zm190 229.715L61.714 333.989l76.857-51.429L234 346.275v102.572zm22-140.858l-77.715-52 77.715-52 77.715 52-77.715 52zm22 140.858V346.275l95.429-63.715 76.857 51.429L278 448.847zm190-156.001l-55.143-36.857L468 219.132v73.714z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../../assets/javascripts/bundle.a45f732b.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.c03f0417.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src=../../js/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>